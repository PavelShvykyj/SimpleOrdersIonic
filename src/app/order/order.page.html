<ion-header>
  <ion-toolbar>
    <ion-title>  {{ (hall$ | async).name }} /  {{ table }}</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button  color="primary" (click)="NextOrder(-1)"><ion-icon slot="icon-only" name="chevron-back-outline"></ion-icon> </ion-button>
      <ion-button  color="primary" (click)="NextOrder(0)">new</ion-button>
      <ion-button  color="primary" (click)="NextOrder(1)"><ion-icon slot="icon-only" name="chevron-forward-outline"></ion-icon></ion-button>
  
    </ion-buttons>

  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-slides #slider>
    <ion-slide>
      <ion-toolbar *ngIf="totals">
      <!-- <ion-toolbar *ngIf="totals$ | async as totals"> -->
        <ion-title color='medium' slot="start"><h6>  ver. {{version}}   </h6> <h6><small>{{ lastGajet }}</small></h6> </ion-title>
        <ion-title color='primary' slot="end"><h5> Итого {{totals.summ}} </h5> 
        
        <ng-container *ngIf="totals.discountname">
          <h5>{{totals.discountname}}</h5> 
          <h5> Знижка {{totals.discountsumm}}  </h5>
        </ng-container>  
      </ion-title>
      </ion-toolbar>
      <ion-list *ngIf="items$ | async as items">
        <ion-item button *ngFor="let item of items" (click)=OpenEditRowDialog(item) [disabled]="item.isCanceled">
          <ion-checkbox disabled=false  #el  [checked]="item.isSelected == undefined ? false : item.isSelected" (ionChange)=OnItemSelected(item,el.checked) slot="start"></ion-checkbox>
          <ion-label class="ion-text-wrap"> 
             <p>{{item.quantityprint}} {{item.goodname}}  </p> 
             <!-- <p *ngIf="item.comment"><small > {{item.comment}}  </small></p> -->
             <p>
              <ion-text color="medium"> ціна  {{item.price}}</ion-text>
              <ion-icon color="danger" *ngIf="item.isexcise" class="pl" slot="start" name="cash-outline"></ion-icon>
              <ion-icon color="danger" *ngIf="item.quantityprint != item.quantity" class="pl" slot="start" name="print-outline"></ion-icon>
              <ion-icon color="danger" *ngIf="item.isprecheck" class="pl" slot="start" name="close-outline"></ion-icon>
              <ion-icon color="danger" *ngIf="item.isChanged" class="pl" slot="start" name="pencil-outline"></ion-icon>
              <ion-icon color="danger" *ngIf="item.isCanceled" class="pl" slot="start" name="close-circle-outline"></ion-icon>
            </p>
          </ion-label>
          
          <ion-note class="ml my-5" slot="end" color="tertiary">

            
            <h5>{{item.quantity}}</h5>
            <!-- <p> {{item.quantityprint}}</p> -->
          </ion-note>
          
          <ion-note class="ml" slot="end" color="primary">
            <h5>{{item.summ}} </h5>
            <!-- <p>{{item.summ}}</p> -->
          </ion-note>
        </ion-item>
      </ion-list>
    </ion-slide>

    <ion-slide>
      
      <!-- <ion-toolbar>
        <ion-title>Menu</ion-title>
      </ion-toolbar> -->
      
      <menu-list (MenuElementSelect)="OnMenuElementSelect($event)" style="height: 100%;"></menu-list>
    </ion-slide>

    <ion-slide>
      <!-- <ion-content [fullscreen]="true"> -->
      <ion-toolbar>
        <ion-title>Anketa</ion-title>
      </ion-toolbar>
      <form [formGroup]="form">
        <ion-grid>
          <ion-row>
            <ion-col size-sm="6" offset-sm="3">
              <ion-item>
                <ion-label position="stacked"> Guests Quontity </ion-label>
                <ion-input formControlName="GuestsQuontity" clear-input=true inputmode="decimal"></ion-input>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size-sm="6" offset-sm="3">
              <ion-item>
                <ion-label position="stacked">Feed back </ion-label>
                <ion-input formControlName="FeedBack" clear-input=true inputmode="text"></ion-input>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size-sm="6" offset-sm="3">
              <ion-button fill='solid' expand='block' color='primary'> Save</ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </form>
      <!-- </ion-content> -->
    </ion-slide>
  </ion-slides>


</ion-content>
<ion-footer>
  <ion-button fill='solid' expand='block' color='primary' (click)="ShowActions()"> Actions</ion-button>
</ion-footer>
